<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>安全閥計算器（單頁 Web App）</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8;--glass: rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:linear-gradient(180deg,#071025 0%, #071827 100%);color:#e6eef6}
    .container{max-width:980px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 18px;color:var(--muted);font-size:13px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(2,6,23,0.6);}
    .row{display:flex;gap:12px;align-items:flex-end;margin-bottom:12px;flex-wrap:wrap;}
    .row > div{display:flex;flex-direction:column;}
    label{font-size:13px;margin-bottom:6px;color:var(--muted)}
    input[type="number"],select,input[type="text"]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;font-size:14px}
    button{background:var(--accent);border:none;color:#022528;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    .result{margin-top:14px;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
    .small{font-size:12px;color:var(--muted)}
    footer{margin-top:14px;color:var(--muted);font-size:12px}
    .hint{background:rgba(6,182,212,0.06);padding:8px;border-radius:8px;color:var(--accent);font-weight:600}
    @media (max-width:700px){.row{flex-direction:column;gap:8px;}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#022b35,#064c59);display:flex;align-items:center;justify-content:center;font-weight:700;color:#aef6ff">SV</div>
      <div>
        <h1>安全閥計算器（MVP）</h1>
        <p class="lead">提供安全閥常見的單位轉換、理想氣體的容積⇄質量流率換算、及簡易報告匯出。此為示範版，嚴格簽核或法規報告請委由工程師完成。</p>
      </div>
    </header>

    <section class="card" style="margin-top:14px">
      <!-- 流體類型 + 流量類型 -->
      <div class="row">
        <div style="flex:1">
          <label>流體類型</label>
          <select id="fluidType">
            <option value="gas">氣體（理想氣體近似）</option>
            <option value="liquid">液體（不可壓縮）</option>
            <option value="steam">蒸氣（僅供概估）</option>
          </select>
        </div>
        <div style="flex:1">
          <label>流量類型</label>
          <select id="flowKind">
            <option value="vol">體積流率</option>
            <option value="mass">質量流率</option>
          </select>
        </div>
      </div>

      <!-- 流量數值 + 單位 -->
      <div class="row">
        <div style="flex:1">
          <label>流量數值</label>
          <input id="flowValue" type="number" step="any" value="1000">
        </div>
        <div style="width:140px">
          <label>單位</label>
          <select id="flowUnit">
            <optgroup label="體積流率">
              <option value="m3/h">m³/h</option>
              <option value="L/min">L/min</option>
              <option value="Nm3/h">Nm³/h</option>
              <option value="scfm">SCFM</option>
            </optgroup>
            <optgroup label="質量流率">
              <option value="kg/h">kg/h</option>
              <option value="kg/s">kg/s</option>
              <option value="lb/hr">lb/hr</option>
            </optgroup>
          </select>
        </div>
      </div>

      <!-- 壓力數值 + 單位 -->
      <div class="row">
        <div style="flex:1">
          <label>壓力</label>
          <input id="pressure" type="number" step="any" value="1.01325">
        </div>
        <div style="width:120px">
          <label>單位</label>
          <select id="pressureUnit">
            <option value="bar">bar</option>
            <option value="kpa">kPa</option>
            <option value="pa">Pa</option>
            <option value="mpa">MPa</option>
            <option value="psia">psia</option>
          </select>
        </div>
      </div>

      <!-- 溫度數值 + 單位 -->
      <div class="row">
        <div style="flex:1">
          <label>溫度</label>
          <input id="temperature" type="number" step="any" value="15">
        </div>
        <div style="width:120px">
          <label>單位</label>
          <select id="temperatureUnit">
            <option value="C">°C</option>
            <option value="K">K</option>
            <option value="F">°F</option>
          </select>
        </div>
      </div>

      <!-- 分子量 + 標準狀態 -->
      <div class="row">
        <div style="flex:1">
          <label>分子量 (M, g/mol)</label>
          <input id="molarMass" type="number" step="any" value="28.97">
        </div>
        <div style="flex:1">
          <label>標準狀態</label>
          <select id="stdChoice">
            <option value="0C1atm">0°C, 1.01325 bar</option>
            <option value="15C1atm">15°C, 1.01325 bar</option>
            <option value="20C1atm">20°C, 1.01325 bar</option>
          </select>
        </div>
      </div>

      <!-- 計算按鈕 -->
      <div class="row">
        <button id="calcBtn">計算 / 轉換</button>
        <button id="copyBtn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">複製結果</button>
        <button id="downloadBtn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">下載簡易報告 (TXT)</button>
      </div>

      <div id="resultArea" class="result" aria-live="polite" style="display:none">
        <div id="resultText"></div>
        <div style="margin-top:8px" class="small">備註：此為估算工具，計算公式請參考物理基礎；稽核報告與簽核圖面需另行委託專業工程師。</div>
      </div>

    </section>

    <footer>
      <div class="hint">下一步建議：我可以把此單頁版轉成 GitHub Pages 專案，或加入 PDF 匯出 / 範例資料庫 / 案例搜尋功能。</div>
    </footer>
  </div>

  <script>
    // JS 部分保持原樣，不需改變
  </script>
</body>
</html>
